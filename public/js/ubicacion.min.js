$(document).ready(function(){var a=$(".datatable").DataTable({ajax:{url:"../Ubicacion/mostrar",dataSrc:""},columns:[{data:"id"},{data:"nombre"},{defaultContent:"<button id='btn_eliminar' class='btn btn-danger btn-sm'><i class='far fa-trash-alt'></i></button>"},],language:{url:"../public/fw/datatables/Spanish.json"},lengthMenu:[[10,15,20,-1],[10,15,20,"All"]]});
$(".datatable tbody").on("click","#btn_eliminar",function(){var d=a.row($(this).parents("tr")).data();if(d==undefined){var b=$(this).parents("tr");if(b.hasClass("child")){b=b.prev();
}var c=$(".datatable").DataTable().row(b).data();alertify.confirm('<i class="fa fa-bars" aria-hidden="true"></i> Eliminar',"¿Desea eliminar la ubicacion <strong>"+c.nombre+"</strong>?",function(){eliminar(c.id);
alertify.notify("Se elimino la ubicacion <strong>"+c.nombre+"</strong> correctamente.","custom-black",4,function(){});},function(){alertify.notify("Se cancelo la <strong>eliminación</strong>.","custom-black",4,function(){});
}).set("labels",{ok:"Eliminar",cancel:"Cancelar"});}else{alertify.confirm('<i class="fa fa-bars" aria-hidden="true"></i> Eliminar',"¿Desea eliminar la ubicacion <strong>"+d.nombre+"</strong>?",function(){eliminar(d.id);
alertify.notify("Se elimino la ubicacion <strong>"+d.nombre+"</strong> correctamente.","custom-black",4,function(){});},function(){alertify.notify("Se cancelo la <strong>eliminación</strong>.","custom-black",4,function(){});
}).set("labels",{ok:"Eliminar",cancel:"Cancelar"});}});});$(function(){$("#form_agregar").on("submit",function(g){g.preventDefault();var c=$(this);var b=c.attr("method");
var a=c.attr("action");var d=new FormData(this);d.append("dato","valor");$.ajax({url:a,type:b,dataType:"html",data:d,cache:false,contentType:false,processData:false,beforeSend:function(){},success:function(e){c[0].reset();
$("#form_agregar input[name=nombre]").focus();table=$(".datatable").DataTable();table.ajax.reload();alertify.notify("Se agrego <strong>Ubicacion</strong> correctamente.","custom-black",4,function(){});
},error:function(){},});});});function eliminar(a){$.ajax({url:"../Ubicacion/eliminar",type:"POST",dataType:"html",data:{id:a,},success:function(b){table=$(".datatable").DataTable();
table.ajax.reload();}});}